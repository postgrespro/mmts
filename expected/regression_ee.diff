diff ../../../src/test/regress/expected/create_table.out ../tmp_check/regress_outdir/results/create_table.out
--- ../../../src/test/regress/expected/create_table.out	CENSORED
+++ ../tmp_check/regress_outdir/results/create_table.out	CENSORED
@@ -58,17 +58,17 @@
 DROP TABLE as_select1;
 PREPARE select1 AS SELECT 1 as a;
 CREATE TABLE as_select1 AS EXECUTE select1;
+ERROR:  [MTM] failed to prepare transaction at peer node
 CREATE TABLE as_select1 AS EXECUTE select1;
-ERROR:  relation "as_select1" already exists
+ERROR:  [MTM] failed to prepare transaction at peer node
 SELECT * FROM as_select1;
- a 
----
- 1
-(1 row)
-
+ERROR:  relation "as_select1" does not exist
+LINE 1: SELECT * FROM as_select1;
+                      ^
 CREATE TABLE IF NOT EXISTS as_select1 AS EXECUTE select1;
-NOTICE:  relation "as_select1" already exists, skipping
+ERROR:  [MTM] failed to prepare transaction at peer node
 DROP TABLE as_select1;
+ERROR:  table "as_select1" does not exist
 DEALLOCATE select1;
 -- create an extra wide table to test for issues related to that
 -- (temporarily hide query, to avoid the long CREATE TABLE stmt)
diff ../../../src/test/regress/expected/create_index.out ../tmp_check/regress_outdir/results/create_index.out
--- ../../../src/test/regress/expected/create_index.out	CENSORED
+++ ../tmp_check/regress_outdir/results/create_index.out	CENSORED
@@ -1389,31 +1389,33 @@
 CREATE TABLE concur_heap (f1 text, f2 text);
 -- empty table
 CREATE INDEX CONCURRENTLY concur_index1 ON concur_heap(f2,f1);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 CREATE INDEX CONCURRENTLY IF NOT EXISTS concur_index1 ON concur_heap(f2,f1);
-NOTICE:  relation "concur_index1" already exists, skipping
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 INSERT INTO concur_heap VALUES  ('a','b');
 INSERT INTO concur_heap VALUES  ('b','b');
 -- unique index
 CREATE UNIQUE INDEX CONCURRENTLY concur_index2 ON concur_heap(f1);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 CREATE UNIQUE INDEX CONCURRENTLY IF NOT EXISTS concur_index2 ON concur_heap(f1);
-NOTICE:  relation "concur_index2" already exists, skipping
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 -- check if constraint is set up properly to be enforced
 INSERT INTO concur_heap VALUES ('b','x');
-ERROR:  duplicate key value violates unique constraint "concur_index2"
-DETAIL:  Key (f1)=(b) already exists.
 -- check if constraint is enforced properly at build time
 CREATE UNIQUE INDEX CONCURRENTLY concur_index3 ON concur_heap(f2);
-ERROR:  could not create unique index "concur_index3"
-DETAIL:  Key (f2)=(b) is duplicated.
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 -- test that expression indexes and partial indexes work concurrently
 CREATE INDEX CONCURRENTLY concur_index4 on concur_heap(f2) WHERE f1='a';
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 CREATE INDEX CONCURRENTLY concur_index5 on concur_heap(f2) WHERE f1='x';
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 -- here we also check that you can default the index name
 CREATE INDEX CONCURRENTLY on concur_heap((f2||f1));
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 -- You can't do a concurrent index build in a transaction
 BEGIN;
 CREATE INDEX CONCURRENTLY concur_index7 ON concur_heap(f1);
-ERROR:  CREATE INDEX CONCURRENTLY cannot run inside a transaction block
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 COMMIT;
 -- test where predicate is able to do a transactional update during
 -- a concurrent build before switching pg_index state flags.
@@ -1425,7 +1427,9 @@
 END; $$;
 CREATE INDEX CONCURRENTLY concur_index8 ON concur_heap (f1)
   WHERE predicate_stable();
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 DROP INDEX concur_index8;
+ERROR:  index "concur_index8" does not exist
 DROP FUNCTION predicate_stable();
 -- But you can do a regular index build in a transaction
 BEGIN;
@@ -1434,8 +1438,6 @@
 -- Failed builds are left invalid by VACUUM FULL, fixed by REINDEX
 VACUUM FULL concur_heap;
 REINDEX TABLE concur_heap;
-ERROR:  could not create unique index "concur_index3"
-DETAIL:  Key (f2)=(b) is duplicated.
 DELETE FROM concur_heap WHERE f1 = 'b';
 VACUUM FULL concur_heap;
 \d concur_heap
@@ -1445,12 +1447,6 @@
  f1     | text |           |          | 
  f2     | text |           |          | 
 Indexes:
-    "concur_heap_expr_idx" btree ((f2 || f1))
-    "concur_index1" btree (f2, f1)
-    "concur_index2" UNIQUE, btree (f1)
-    "concur_index3" UNIQUE, btree (f2) INVALID
-    "concur_index4" btree (f2) WHERE f1 = 'a'::text
-    "concur_index5" btree (f2) WHERE f1 = 'x'::text
     "std_index" btree (f2)
 
 REINDEX TABLE concur_heap;
@@ -1461,12 +1457,6 @@
  f1     | text |           |          | 
  f2     | text |           |          | 
 Indexes:
-    "concur_heap_expr_idx" btree ((f2 || f1))
-    "concur_index1" btree (f2, f1)
-    "concur_index2" UNIQUE, btree (f1)
-    "concur_index3" UNIQUE, btree (f2)
-    "concur_index4" btree (f2) WHERE f1 = 'a'::text
-    "concur_index5" btree (f2) WHERE f1 = 'x'::text
     "std_index" btree (f2)
 
 -- Temporary tables with concurrent builds and on-commit actions
@@ -1476,7 +1466,9 @@
   ON COMMIT PRESERVE ROWS;
 INSERT INTO concur_temp VALUES (1, 'foo'), (2, 'bar');
 CREATE INDEX CONCURRENTLY concur_temp_ind ON concur_temp(f1);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY concur_temp_ind;
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP TABLE concur_temp;
 -- ON COMMIT DROP
 BEGIN;
@@ -1485,34 +1477,42 @@
 INSERT INTO concur_temp VALUES (1, 'foo'), (2, 'bar');
 -- Fails when running in a transaction.
 CREATE INDEX CONCURRENTLY concur_temp_ind ON concur_temp(f1);
-ERROR:  CREATE INDEX CONCURRENTLY cannot run inside a transaction block
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 COMMIT;
 -- ON COMMIT DELETE ROWS
 CREATE TEMP TABLE concur_temp (f1 int, f2 text)
   ON COMMIT DELETE ROWS;
 INSERT INTO concur_temp VALUES (1, 'foo'), (2, 'bar');
 CREATE INDEX CONCURRENTLY concur_temp_ind ON concur_temp(f1);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY concur_temp_ind;
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP TABLE concur_temp;
 --
 -- Try some concurrent index drops
 --
 DROP INDEX CONCURRENTLY "concur_index2";				-- works
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY IF EXISTS "concur_index2";		-- notice
-NOTICE:  index "concur_index2" does not exist, skipping
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 -- failures
 DROP INDEX CONCURRENTLY "concur_index2", "concur_index3";
-ERROR:  DROP INDEX CONCURRENTLY does not support dropping multiple objects
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 BEGIN;
 DROP INDEX CONCURRENTLY "concur_index5";
-ERROR:  DROP INDEX CONCURRENTLY cannot run inside a transaction block
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 ROLLBACK;
 -- successes
 DROP INDEX CONCURRENTLY IF EXISTS "concur_index3";
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY "concur_index4";
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY "concur_index5";
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY "concur_index1";
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 DROP INDEX CONCURRENTLY "concur_heap_expr_idx";
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 \d concur_heap
            Table "public.concur_heap"
  Column | Type | Collation | Nullable | Default 
@@ -2600,46 +2600,38 @@
 INSERT INTO concur_reindex_tab4 VALUES (1), (1), (2);
 -- This trick creates an invalid index.
 CREATE UNIQUE INDEX CONCURRENTLY concur_reindex_ind5 ON concur_reindex_tab4 (c1);
-ERROR:  could not create unique index "concur_reindex_ind5"
-DETAIL:  Key (c1)=(1) is duplicated.
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 -- Reindexing concurrently this index fails with the same failure.
 -- The extra index created is itself invalid, and can be dropped.
 REINDEX INDEX CONCURRENTLY concur_reindex_ind5;
-ERROR:  could not create unique index "concur_reindex_ind5_ccnew"
-DETAIL:  Key (c1)=(1) is duplicated.
+ERROR:  relation "concur_reindex_ind5" does not exist
 \d concur_reindex_tab4
         Table "public.concur_reindex_tab4"
  Column |  Type   | Collation | Nullable | Default 
 --------+---------+-----------+----------+---------
  c1     | integer |           |          | 
-Indexes:
-    "concur_reindex_ind5" UNIQUE, btree (c1) INVALID
-    "concur_reindex_ind5_ccnew" UNIQUE, btree (c1) INVALID
 
 DROP INDEX concur_reindex_ind5_ccnew;
+ERROR:  index "concur_reindex_ind5_ccnew" does not exist
 -- This makes the previous failure go away, so the index can become valid.
 DELETE FROM concur_reindex_tab4 WHERE c1 = 1;
 -- The invalid index is not processed when running REINDEX TABLE.
 REINDEX TABLE CONCURRENTLY concur_reindex_tab4;
-WARNING:  cannot reindex invalid index "public.concur_reindex_ind5" concurrently, skipping
 NOTICE:  table "concur_reindex_tab4" has no indexes that can be reindexed concurrently
 \d concur_reindex_tab4
         Table "public.concur_reindex_tab4"
  Column |  Type   | Collation | Nullable | Default 
 --------+---------+-----------+----------+---------
  c1     | integer |           |          | 
-Indexes:
-    "concur_reindex_ind5" UNIQUE, btree (c1) INVALID
 
 -- But it is fixed with REINDEX INDEX.
 REINDEX INDEX CONCURRENTLY concur_reindex_ind5;
+ERROR:  relation "concur_reindex_ind5" does not exist
 \d concur_reindex_tab4
         Table "public.concur_reindex_tab4"
  Column |  Type   | Collation | Nullable | Default 
 --------+---------+-----------+----------+---------
  c1     | integer |           |          | 
-Indexes:
-    "concur_reindex_ind5" UNIQUE, btree (c1)
 
 DROP TABLE concur_reindex_tab4;
 -- Check handling of indexes with expressions and predicates.  The
diff ../../../src/test/regress/expected/index_including.out ../tmp_check/regress_outdir/results/index_including.out
--- ../../../src/test/regress/expected/index_including.out	CENSORED
+++ ../tmp_check/regress_outdir/results/index_including.out	CENSORED
@@ -310,12 +310,12 @@
 CREATE TABLE tbl (c1 int,c2 int, c3 int, c4 box, UNIQUE(c1, c2) INCLUDE(c3,c4));
 INSERT INTO tbl SELECT x, 2*x, 3*x, box('4,4,4,4') FROM generate_series(1,1000) AS x;
 CREATE UNIQUE INDEX CONCURRENTLY on tbl (c1, c2) INCLUDE (c3, c4);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 SELECT indexdef FROM pg_indexes WHERE tablename = 'tbl' ORDER BY indexname;
                                           indexdef                                           
 ---------------------------------------------------------------------------------------------
- CREATE UNIQUE INDEX tbl_c1_c2_c3_c4_idx ON public.tbl USING btree (c1, c2) INCLUDE (c3, c4)
  CREATE UNIQUE INDEX tbl_c1_c2_c3_c4_key ON public.tbl USING btree (c1, c2) INCLUDE (c3, c4)
-(2 rows)
+(1 row)
 
 DROP TABLE tbl;
 /*
diff ../../../src/test/regress/expected/index_including_gist.out ../tmp_check/regress_outdir/results/index_including_gist.out
--- ../../../src/test/regress/expected/index_including_gist.out	CENSORED
+++ ../tmp_check/regress_outdir/results/index_including_gist.out	CENSORED
@@ -74,11 +74,11 @@
 CREATE TABLE tbl_gist (c1 int, c2 int, c3 int, c4 box);
 INSERT INTO tbl_gist SELECT x, 2*x, 3*x, box(point(x,x+1),point(2*x,2*x+1)) FROM generate_series(1,10) AS x;
 CREATE INDEX CONCURRENTLY tbl_gist_idx ON tbl_gist using gist (c4) INCLUDE (c1,c2,c3);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 SELECT indexdef FROM pg_indexes WHERE tablename = 'tbl_gist' ORDER BY indexname;
-                                     indexdef                                      
------------------------------------------------------------------------------------
- CREATE INDEX tbl_gist_idx ON public.tbl_gist USING gist (c4) INCLUDE (c1, c2, c3)
-(1 row)
+ indexdef 
+----------
+(0 rows)
 
 DROP TABLE tbl_gist;
 /*
diff ../../../src/test/regress/expected/select_into.out ../tmp_check/regress_outdir/results/select_into.out
--- ../../../src/test/regress/expected/select_into.out	CENSORED
+++ ../tmp_check/regress_outdir/results/select_into.out	CENSORED
@@ -50,27 +50,19 @@
 PREPARE data_sel AS SELECT generate_series(1,3);
 CREATE TABLE selinto_schema.tbl_withdata3 (a) AS
   EXECUTE data_sel WITH DATA;
+ERROR:  [MTM] failed to prepare transaction at peer node
 EXPLAIN (ANALYZE, COSTS OFF, SUMMARY OFF, TIMING OFF)
   CREATE TABLE selinto_schema.tbl_withdata4 (a) AS
   EXECUTE data_sel WITH DATA;
-              QUERY PLAN              
---------------------------------------
- ProjectSet (actual rows=3 loops=1)
-   ->  Result (actual rows=1 loops=1)
-(2 rows)
-
+ERROR:  [MTM] failed to prepare transaction at peer node
 -- EXECUTE and WITH NO DATA, passes.
 CREATE TABLE selinto_schema.tbl_nodata3 (a) AS
   EXECUTE data_sel WITH NO DATA;
+ERROR:  [MTM] failed to prepare transaction at peer node
 EXPLAIN (ANALYZE, COSTS OFF, SUMMARY OFF, TIMING OFF)
   CREATE TABLE selinto_schema.tbl_nodata4 (a) AS
   EXECUTE data_sel WITH NO DATA;
-          QUERY PLAN           
--------------------------------
- ProjectSet (never executed)
-   ->  Result (never executed)
-(2 rows)
-
+ERROR:  [MTM] failed to prepare transaction at peer node
 RESET SESSION AUTHORIZATION;
 ALTER DEFAULT PRIVILEGES FOR ROLE regress_selinto_user
 	  GRANT INSERT ON TABLES TO regress_selinto_user;
@@ -78,15 +70,11 @@
 RESET SESSION AUTHORIZATION;
 DEALLOCATE data_sel;
 DROP SCHEMA selinto_schema CASCADE;
-NOTICE:  drop cascades to 8 other objects
+NOTICE:  drop cascades to 4 other objects
 DETAIL:  drop cascades to table selinto_schema.tbl_withdata1
 drop cascades to table selinto_schema.tbl_withdata2
 drop cascades to table selinto_schema.tbl_nodata1
 drop cascades to table selinto_schema.tbl_nodata2
-drop cascades to table selinto_schema.tbl_withdata3
-drop cascades to table selinto_schema.tbl_withdata4
-drop cascades to table selinto_schema.tbl_nodata3
-drop cascades to table selinto_schema.tbl_nodata4
 DROP USER regress_selinto_user;
 -- Tests for WITH NO DATA and column name consistency
 CREATE TABLE ctas_base (i int, j int);
diff ../../../src/test/regress/expected/transactions.out ../tmp_check/regress_outdir/results/transactions.out
--- ../../../src/test/regress/expected/transactions.out	CENSORED
+++ ../tmp_check/regress_outdir/results/transactions.out	CENSORED
@@ -689,50 +689,38 @@
 INSERT INTO abc VALUES (1);
 INSERT INTO abc VALUES (2);
 COMMIT AND CHAIN;  -- TBLOCK_END
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_isolation;
- transaction_isolation 
------------------------
- repeatable read
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_read_only;
- transaction_read_only 
------------------------
- off
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_deferrable;
- transaction_deferrable 
-------------------------
- on
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 INSERT INTO abc VALUES ('error');
-ERROR:  invalid input syntax for type integer: "error"
-LINE 1: INSERT INTO abc VALUES ('error');
-                                ^
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 INSERT INTO abc VALUES (3);  -- check it's really aborted
 ERROR:  current transaction is aborted, commands ignored until end of transaction block
 COMMIT AND CHAIN;  -- TBLOCK_ABORT_END
 SHOW transaction_isolation;
  transaction_isolation 
 -----------------------
- repeatable read
+ read committed
 (1 row)
 
 SHOW transaction_read_only;
  transaction_read_only 
 -----------------------
- off
+ on
 (1 row)
 
 SHOW transaction_deferrable;
  transaction_deferrable 
 ------------------------
- on
+ off
 (1 row)
 
 INSERT INTO abc VALUES (4);
+ERROR:  cannot execute INSERT in a read-only transaction
 COMMIT;
 START TRANSACTION ISOLATION LEVEL REPEATABLE READ, READ WRITE, DEFERRABLE;
 SHOW transaction_isolation;
@@ -800,24 +788,13 @@
 
 SAVEPOINT x;
 COMMIT AND CHAIN;  -- TBLOCK_SUBCOMMIT
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_isolation;
- transaction_isolation 
------------------------
- repeatable read
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_read_only;
- transaction_read_only 
------------------------
- off
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_deferrable;
- transaction_deferrable 
-------------------------
- on
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 COMMIT;
 -- different mix of options just for fun
 START TRANSACTION ISOLATION LEVEL SERIALIZABLE, READ WRITE, NOT DEFERRABLE;
@@ -885,17 +862,14 @@
 ROLLBACK;
 -- not allowed outside a transaction block
 COMMIT AND CHAIN;  -- error
-ERROR:  COMMIT AND CHAIN can only be used in transaction blocks
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 ROLLBACK AND CHAIN;  -- error
 ERROR:  ROLLBACK AND CHAIN can only be used in transaction blocks
 SELECT * FROM abc ORDER BY 1;
  a 
 ---
- 1
- 2
- 4
  5
-(4 rows)
+(1 row)
 
 RESET default_transaction_read_only;
 DROP TABLE abc;
@@ -1041,7 +1015,7 @@
 
 -- Tests for AND CHAIN in implicit transaction blocks
 SET TRANSACTION READ ONLY\; COMMIT AND CHAIN;  -- error
-ERROR:  COMMIT AND CHAIN can only be used in transaction blocks
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_read_only;
  transaction_read_only 
 -----------------------
@@ -1060,23 +1034,20 @@
 -- COMMIT/ROLLBACK + COMMIT/ROLLBACK AND CHAIN
 INSERT INTO abc VALUES (7)\; COMMIT\; INSERT INTO abc VALUES (8)\; COMMIT AND CHAIN;  -- 7 commit, 8 error
 WARNING:  there is no transaction in progress
-ERROR:  COMMIT AND CHAIN can only be used in transaction blocks
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 INSERT INTO abc VALUES (9)\; ROLLBACK\; INSERT INTO abc VALUES (10)\; ROLLBACK AND CHAIN;  -- 9 rollback, 10 error
 WARNING:  there is no transaction in progress
 ERROR:  ROLLBACK AND CHAIN can only be used in transaction blocks
 -- COMMIT/ROLLBACK AND CHAIN + COMMIT/ROLLBACK
 INSERT INTO abc VALUES (11)\; COMMIT AND CHAIN\; INSERT INTO abc VALUES (12)\; COMMIT;  -- 11 error, 12 not reached
-ERROR:  COMMIT AND CHAIN can only be used in transaction blocks
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 INSERT INTO abc VALUES (13)\; ROLLBACK AND CHAIN\; INSERT INTO abc VALUES (14)\; ROLLBACK;  -- 13 error, 14 not reached
 ERROR:  ROLLBACK AND CHAIN can only be used in transaction blocks
 -- START TRANSACTION + COMMIT/ROLLBACK AND CHAIN
 START TRANSACTION ISOLATION LEVEL REPEATABLE READ\; INSERT INTO abc VALUES (15)\; COMMIT AND CHAIN;  -- 15 ok
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_isolation;  -- transaction is active at this point
- transaction_isolation 
------------------------
- repeatable read
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 COMMIT;
 START TRANSACTION ISOLATION LEVEL REPEATABLE READ\; INSERT INTO abc VALUES (16)\; ROLLBACK AND CHAIN;  -- 16 ok
 SHOW transaction_isolation;  -- transaction is active at this point
@@ -1089,7 +1060,7 @@
 SET default_transaction_isolation = 'read committed';
 -- START TRANSACTION + COMMIT/ROLLBACK + COMMIT/ROLLBACK AND CHAIN
 START TRANSACTION ISOLATION LEVEL REPEATABLE READ\; INSERT INTO abc VALUES (17)\; COMMIT\; INSERT INTO abc VALUES (18)\; COMMIT AND CHAIN;  -- 17 commit, 18 error
-ERROR:  COMMIT AND CHAIN can only be used in transaction blocks
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_isolation;  -- out of transaction block
  transaction_isolation 
 -----------------------
@@ -1109,9 +1080,8 @@
  a  
 ----
   7
- 15
  17
-(3 rows)
+(2 rows)
 
 DROP TABLE abc;
 -- Test for successful cleanup of an aborted transaction at session exit.
diff ../../../src/test/regress/expected/portals.out ../tmp_check/regress_outdir/results/portals.out
--- ../../../src/test/regress/expected/portals.out	CENSORED
+++ ../tmp_check/regress_outdir/results/portals.out	CENSORED
@@ -1553,11 +1553,9 @@
 
 declare held_portal cursor with hold for select * from toasted_data;
 commit;
+ERROR:  cannot PREPARE a transaction that has created a cursor WITH HOLD
 drop table toasted_data;
+ERROR:  table "toasted_data" does not exist
 fetch all in held_portal;
-                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         f1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
- {12345678,12345679,12345680,12345681,12345682,12345683,12345684,12345685,12345686,12345687,12345688,12345689,12345690,12345691,12345692,12345693,12345694,12345695,12345696,12345697,12345698,12345699,12345700,12345701,12345702,12345703,12345704,12345705,12345706,12345707,12345708,12345709,12345710,12345711,12345712,12345713,12345714,12345715,12345716,12345717,12345718,12345719,12345720,12345721,12345722,12345723,12345724,12345725,12345726,12345727,12345728,12345729,12345730,12345731,12345732,12345733,12345734,12345735,12345736,12345737,12345738,12345739,12345740,12345741,12345742,12345743,12345744,12345745,12345746,12345747,12345748,12345749,12345750,12345751,12345752,12345753,12345754,12345755,12345756,12345757,12345758,12345759,12345760,12345761,12345762,12345763,12345764,12345765,12345766,12345767,12345768,12345769,12345770,12345771,12345772,12345773,12345774,12345775,12345776,12345777,12345778,12345779,12345780,12345781,12345782,12345783,12345784,12345785,12345786,12345787,12345788,12345789,12345790,12345791,12345792,12345793,12345794,12345795,12345796,12345797,12345798,12345799,12345800,12345801,12345802,12345803,12345804,12345805,12345806,12345807,12345808,12345809,12345810,12345811,12345812,12345813,12345814,12345815,12345816,12345817,12345818,12345819,12345820,12345821,12345822,12345823,12345824,12345825,12345826,12345827,12345828,12345829,12345830,12345831,12345832,12345833,12345834,12345835,12345836,12345837,12345838,12345839,12345840,12345841,12345842,12345843,12345844,12345845,12345846,12345847,12345848,12345849,12345850,12345851,12345852,12345853,12345854,12345855,12345856,12345857,12345858,12345859,12345860,12345861,12345862,12345863,12345864,12345865,12345866,12345867,12345868,12345869,12345870,12345871,12345872,12345873,12345874,12345875,12345876,12345877,12345878,12345879,12345880,12345881,12345882,12345883,12345884,12345885,12345886,12345887,12345888,12345889,12345890,12345891,12345892,12345893,12345894,12345895,12345896,12345897,12345898,12345899,12345900,12345901,12345902,12345903,12345904,12345905,12345906,12345907,12345908,12345909,12345910,12345911,12345912,12345913,12345914,12345915,12345916,12345917,12345918,12345919,12345920,12345921,12345922,12345923,12345924,12345925,12345926,12345927,12345928,12345929,12345930,12345931,12345932,12345933,12345934,12345935,12345936,12345937,12345938,12345939,12345940,12345941,12345942,12345943,12345944,12345945,12345946,12345947,12345948,12345949,12345950,12345951,12345952,12345953,12345954,12345955,12345956,12345957,12345958,12345959,12345960,12345961,12345962,12345963,12345964,12345965,12345966,12345967,12345968,12345969,12345970,12345971,12345972,12345973,12345974,12345975,12345976,12345977,12345978,12345979,12345980,12345981,12345982,12345983,12345984,12345985,12345986,12345987,12345988,12345989,12345990,12345991,12345992,12345993,12345994,12345995,12345996,12345997,12345998,12345999,12346000,12346001,12346002,12346003,12346004,12346005,12346006,12346007,12346008,12346009,12346010,12346011,12346012,12346013,12346014,12346015,12346016,12346017,12346018,12346019,12346020,12346021,12346022,12346023,12346024,12346025,12346026,12346027,12346028,12346029,12346030,12346031,12346032,12346033,12346034,12346035,12346036,12346037,12346038,12346039,12346040,12346041,12346042,12346043,12346044,12346045,12346046,12346047,12346048,12346049,12346050,12346051,12346052,12346053,12346054,12346055,12346056,12346057,12346058,12346059,12346060,12346061,12346062,12346063,12346064,12346065,12346066,12346067,12346068,12346069,12346070,12346071,12346072,12346073,12346074,12346075,12346076,12346077,12346078,12346079,12346080,12346081,12346082,12346083,12346084,12346085,12346086,12346087,12346088,12346089,12346090,12346091,12346092,12346093,12346094,12346095,12346096,12346097,12346098,12346099,12346100,12346101,12346102,12346103,12346104,12346105,12346106,12346107,12346108,12346109,12346110,12346111,12346112,12346113,12346114,12346115,12346116,12346117,12346118,12346119,12346120,12346121,12346122,12346123,12346124,12346125,12346126,12346127,12346128,12346129,12346130,12346131,12346132,12346133,12346134,12346135,12346136,12346137,12346138,12346139,12346140,12346141,12346142,12346143,12346144,12346145,12346146,12346147,12346148,12346149,12346150,12346151,12346152,12346153,12346154,12346155,12346156,12346157,12346158,12346159,12346160,12346161,12346162,12346163,12346164,12346165,12346166,12346167,12346168,12346169,12346170,12346171,12346172,12346173,12346174,12346175,12346176,12346177,12346178,12346179,12346180,12346181,12346182,12346183,12346184,12346185,12346186,12346187,12346188,12346189,12346190,12346191,12346192,12346193,12346194,12346195,12346196,12346197,12346198,12346199,12346200,12346201,12346202,12346203,12346204,12346205,12346206,12346207,12346208,12346209,12346210,12346211,12346212,12346213,12346214,12346215,12346216,12346217,12346218,12346219,12346220,12346221,12346222,12346223,12346224,12346225,12346226,12346227,12346228,12346229,12346230,12346231,12346232,12346233,12346234,12346235,12346236,12346237,12346238,12346239,12346240,12346241,12346242,12346243,12346244,12346245,12346246,12346247,12346248,12346249,12346250,12346251,12346252,12346253,12346254,12346255,12346256,12346257,12346258,12346259,12346260,12346261,12346262,12346263,12346264,12346265,12346266,12346267,12346268,12346269,12346270,12346271,12346272,12346273,12346274,12346275,12346276,12346277,12346278,12346279,12346280,12346281,12346282,12346283,12346284,12346285,12346286,12346287,12346288,12346289,12346290,12346291,12346292,12346293,12346294,12346295,12346296,12346297,12346298,12346299,12346300,12346301,12346302,12346303,12346304,12346305,12346306,12346307,12346308,12346309,12346310,12346311,12346312,12346313,12346314,12346315,12346316,12346317,12346318,12346319,12346320,12346321,12346322,12346323,12346324,12346325,12346326,12346327,12346328,12346329,12346330,12346331,12346332,12346333,12346334,12346335,12346336,12346337,12346338,12346339,12346340,12346341,12346342,12346343,12346344,12346345,12346346,12346347,12346348,12346349,12346350,12346351,12346352,12346353,12346354,12346355,12346356,12346357,12346358,12346359,12346360,12346361,12346362,12346363,12346364,12346365,12346366,12346367,12346368,12346369,12346370,12346371,12346372,12346373,12346374,12346375,12346376,12346377,12346378,12346379,12346380,12346381,12346382,12346383,12346384,12346385,12346386,12346387,12346388,12346389,12346390,12346391,12346392,12346393,12346394,12346395,12346396,12346397,12346398,12346399,12346400,12346401,12346402,12346403,12346404,12346405,12346406,12346407,12346408,12346409,12346410,12346411,12346412,12346413,12346414,12346415,12346416,12346417,12346418,12346419,12346420,12346421,12346422,12346423,12346424,12346425,12346426,12346427,12346428,12346429,12346430,12346431,12346432,12346433,12346434,12346435,12346436,12346437,12346438,12346439,12346440,12346441,12346442,12346443,12346444,12346445,12346446,12346447,12346448,12346449,12346450,12346451,12346452,12346453,12346454,12346455,12346456,12346457,12346458,12346459,12346460,12346461,12346462,12346463,12346464,12346465,12346466,12346467,12346468,12346469,12346470,12346471,12346472,12346473,12346474,12346475,12346476,12346477,12346478,12346479,12346480,12346481,12346482,12346483,12346484,12346485,12346486,12346487,12346488,12346489,12346490,12346491,12346492,12346493,12346494,12346495,12346496,12346497,12346498,12346499,12346500,12346501,12346502,12346503,12346504,12346505,12346506,12346507,12346508,12346509,12346510,12346511,12346512,12346513,12346514,12346515,12346516,12346517,12346518,12346519,12346520,12346521,12346522,12346523,12346524,12346525,12346526,12346527,12346528,12346529,12346530,12346531,12346532,12346533,12346534,12346535,12346536,12346537,12346538,12346539,12346540,12346541,12346542,12346543,12346544,12346545,12346546,12346547,12346548,12346549,12346550,12346551,12346552,12346553,12346554,12346555,12346556,12346557,12346558,12346559,12346560,12346561,12346562,12346563,12346564,12346565,12346566,12346567,12346568,12346569,12346570,12346571,12346572,12346573,12346574,12346575,12346576,12346577,12346578,12346579,12346580,12346581,12346582,12346583,12346584,12346585,12346586,12346587,12346588,12346589,12346590,12346591,12346592,12346593,12346594,12346595,12346596,12346597,12346598,12346599,12346600,12346601,12346602,12346603,12346604,12346605,12346606,12346607,12346608,12346609,12346610,12346611,12346612,12346613,12346614,12346615,12346616,12346617,12346618,12346619,12346620,12346621,12346622,12346623,12346624,12346625,12346626,12346627,12346628,12346629,12346630,12346631,12346632,12346633,12346634,12346635,12346636,12346637,12346638,12346639,12346640,12346641,12346642,12346643,12346644,12346645,12346646,12346647,12346648,12346649,12346650,12346651,12346652,12346653,12346654,12346655,12346656,12346657,12346658,12346659,12346660,12346661,12346662,12346663,12346664,12346665,12346666,12346667,12346668,12346669,12346670,12346671,12346672,12346673,12346674,12346675,12346676,12346677,12346678}
-(1 row)
-
+ERROR:  cursor "held_portal" does not exist
 reset default_toast_compression;
diff ../../../src/test/regress/expected/brin.out ../tmp_check/regress_outdir/results/brin.out
--- ../../../src/test/regress/expected/brin.out	CENSORED
+++ ../tmp_check/regress_outdir/results/brin.out	CENSORED
@@ -539,7 +539,9 @@
 -- vacuum actually removes the TOAST rows. Creating an index concurrently
 -- is a one way to achieve that, because it does exactly such wait.
 CREATE INDEX CONCURRENTLY brin_test_temp_idx ON brintest_3(a);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 DROP INDEX brin_test_temp_idx;
+ERROR:  index "brin_test_temp_idx" does not exist
 -- vacuum the table, to discard TOAST data
 VACUUM brintest_3;
 -- retry insert with a different random-looking (but deterministic) value
diff ../../../src/test/regress/expected/privileges.out ../tmp_check/regress_outdir/results/privileges.out
--- ../../../src/test/regress/expected/privileges.out	CENSORED
+++ ../tmp_check/regress_outdir/results/privileges.out	CENSORED
@@ -1613,11 +1613,16 @@
 -- Do the same concurrently
 CREATE INDEX CONCURRENTLY sro_idx ON sro_tab ((sro_ifun(a) + sro_ifun(0)))
 	WHERE sro_ifun(a + 10) > sro_ifun(10);
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 -- REINDEX
 REINDEX TABLE sro_tab;
+NOTICE:  table "sro_tab" has no indexes to reindex
 REINDEX INDEX sro_idx;
+ERROR:  relation "sro_idx" does not exist
 REINDEX TABLE CONCURRENTLY sro_tab;
+NOTICE:  table "sro_tab" has no indexes that can be reindexed concurrently
 DROP INDEX sro_idx;
+ERROR:  index "sro_idx" does not exist
 -- CLUSTER
 CREATE INDEX sro_cluster_idx ON sro_tab ((sro_ifun(a) + sro_ifun(0)));
 CLUSTER sro_tab USING sro_cluster_idx;
diff ../../../src/test/regress/expected/atx3.out ../tmp_check/regress_outdir/results/atx3.out
--- ../../../src/test/regress/expected/atx3.out	CENSORED
+++ ../tmp_check/regress_outdir/results/atx3.out	CENSORED
@@ -115,10 +115,7 @@
 NOTICE:  function atx_test_30_one() does not exist, skipping
 NOTICE:  function atx_test_30_one() does not exist, skipping
 NOTICE:  function atx_test_30_one() does not exist, skipping
- x 
----
-(0 rows)
-
+ERROR:  cannot PREPARE a transaction that has exported snapshots
 SET client_min_messages = 'warning';
 DROP FUNCTION IF EXISTS atx_test_30_one();
 DROP FUNCTION IF EXISTS atx_test_30_two();
@@ -547,50 +544,38 @@
 INSERT INTO abc VALUES (1);
 INSERT INTO abc VALUES (2);
 COMMIT AND CHAIN;  -- TBLOCK_END
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_isolation;
- transaction_isolation 
------------------------
- repeatable read
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_read_only;
- transaction_read_only 
------------------------
- off
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_deferrable;
- transaction_deferrable 
-------------------------
- on
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 INSERT INTO abc VALUES ('error');
-ERROR:  invalid input syntax for type integer: "error"
-LINE 1: INSERT INTO abc VALUES ('error');
-                                ^
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 INSERT INTO abc VALUES (3);  -- check it's really aborted
 ERROR:  current transaction is aborted, commands ignored until end of transaction block
 COMMIT AND CHAIN;  -- TBLOCK_ABORT_END
 SHOW transaction_isolation;
  transaction_isolation 
 -----------------------
- repeatable read
+ read committed
 (1 row)
 
 SHOW transaction_read_only;
  transaction_read_only 
 -----------------------
- off
+ on
 (1 row)
 
 SHOW transaction_deferrable;
  transaction_deferrable 
 ------------------------
- on
+ off
 (1 row)
 
 INSERT INTO abc VALUES (4);
+ERROR:  cannot execute INSERT in a read-only transaction
 COMMIT;
 ROLLBACK;
 BEGIN;
@@ -662,24 +647,13 @@
 
 SAVEPOINT x;
 COMMIT AND CHAIN;  -- TBLOCK_SUBCOMMIT
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 SHOW transaction_isolation;
- transaction_isolation 
------------------------
- repeatable read
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_read_only;
- transaction_read_only 
------------------------
- off
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 SHOW transaction_deferrable;
- transaction_deferrable 
-------------------------
- on
-(1 row)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 COMMIT;
 ROLLBACK;
 -- different mix of options just for fun
@@ -750,17 +724,14 @@
 COMMIT;
 -- not allowed outside a transaction block
 COMMIT AUTONOMOUS AND CHAIN;  -- error
-ERROR:  COMMIT AND CHAIN can only be used in transaction blocks
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 ROLLBACK AUTONOMOUS AND CHAIN;  -- error
 ERROR:  ROLLBACK AND CHAIN can only be used in transaction blocks
 SELECT * FROM abc ORDER BY 1;
  a 
 ---
- 1
- 2
- 4
  5
-(4 rows)
+(1 row)
 
 RESET default_transaction_read_only;
 DROP TABLE abc;
diff ../../../src/test/regress/expected/rules.out ../tmp_check/regress_outdir/results/rules.out
--- ../../../src/test/regress/expected/rules.out	CENSORED
+++ ../tmp_check/regress_outdir/results/rules.out	CENSORED
@@ -1285,6 +1285,15 @@
 SELECT viewname, definition FROM pg_views
 WHERE schemaname = 'pg_catalog'
 ORDER BY viewname;
+_pg_prepared_xacts| SELECT p.transaction,
+    p.gid,
+    p.prepared,
+    u.rolname AS owner,
+    d.datname AS database,
+    p.state3pc
+   FROM ((pg_prepared_xact() p(transaction, gid, prepared, ownerid, dbid, state3pc)
+     LEFT JOIN pg_authid u ON ((p.ownerid = u.oid)))
+     LEFT JOIN pg_database d ON ((p.dbid = d.oid)));
 pg_available_extension_versions| SELECT e.name,
     e.version,
     (x.extname IS NOT NULL) AS installed,
@@ -1427,15 +1436,6 @@
     p.generic_plans,
     p.custom_plans
    FROM pg_prepared_statement() p(name, statement, prepare_time, parameter_types, from_sql, generic_plans, custom_plans);
-pg_prepared_xacts| SELECT p.transaction,
-    p.gid,
-    p.prepared,
-    u.rolname AS owner,
-    d.datname AS database,
-    p.state3pc
-   FROM ((pg_prepared_xact() p(transaction, gid, prepared, ownerid, dbid, state3pc)
-     LEFT JOIN pg_authid u ON ((p.ownerid = u.oid)))
-     LEFT JOIN pg_database d ON ((p.dbid = d.oid)));
 pg_publication_tables| SELECT p.pubname,
     n.nspname AS schemaname,
     c.relname AS tablename,
diff ../../../src/test/regress/expected/psql.out ../tmp_check/regress_outdir/results/psql.out
--- ../../../src/test/regress/expected/psql.out	CENSORED
+++ ../tmp_check/regress_outdir/results/psql.out	CENSORED
@@ -5292,6 +5292,7 @@
 BEGIN;
 INSERT INTO oer_test VALUES (5);
 COMMIT AND CHAIN;
+ERROR:  [MTM] COMMIT AND CHAIN is not supported
 INSERT INTO oer_test VALUES (6);
 COMMIT;
 SELECT * FROM oer_test;
@@ -5472,48 +5473,47 @@
 CONTEXT:  PL/pgSQL function psql_error(text) line 3 at RAISE
 INSERT INTO bla VALUES ('Calvin'), ('Hobbes');
 COMMIT;
+ERROR:  [MTM] failed to prepare transaction at peer node
 SELECT * FROM bla ORDER BY 1;
-   s    
---------
- Calvin
- Hobbes
-(2 rows)
-
+ERROR:  relation "bla" does not exist
+LINE 1: SELECT * FROM bla ORDER BY 1;
+                      ^
 BEGIN;
 INSERT INTO bla VALUES ('Susie');         -- succeeds
+ERROR:  relation "bla" does not exist
+LINE 1: INSERT INTO bla VALUES ('Susie');
+                    ^
 -- now with combined queries
 INSERT INTO bla VALUES ('Rosalyn') \;     -- will rollback
 SELECT 'before error' AS show \;          -- will show nevertheless!
   SELECT psql_error('boum!') \;           -- failure
   SELECT 'after error' AS noshow;         -- hidden by preceding error
-     show     
---------------
- before error
-(1 row)
-
-ERROR:  error boum!
-CONTEXT:  PL/pgSQL function psql_error(text) line 3 at RAISE
+ERROR:  relation "bla" does not exist
+LINE 1: INSERT INTO bla VALUES ('Rosalyn') ;     -- will rollback
+                    ^
 INSERT INTO bla(s) VALUES ('Moe') \;      -- will rollback
   SELECT psql_error('bam!');
-ERROR:  error bam!
-CONTEXT:  PL/pgSQL function psql_error(text) line 3 at RAISE
+ERROR:  relation "bla" does not exist
+LINE 1: INSERT INTO bla(s) VALUES ('Moe') ;      -- will rollback
+                    ^
 INSERT INTO bla VALUES ('Miss Wormwood'); -- succeeds
+ERROR:  relation "bla" does not exist
+LINE 1: INSERT INTO bla VALUES ('Miss Wormwood');
+                    ^
 COMMIT;
 SELECT * FROM bla ORDER BY 1;
-       s       
----------------
- Calvin
- Hobbes
- Miss Wormwood
- Susie
-(4 rows)
-
+ERROR:  relation "bla" does not exist
+LINE 1: SELECT * FROM bla ORDER BY 1;
+                      ^
 -- some with autocommit off
 \set AUTOCOMMIT off
 \echo '# AUTOCOMMIT:' :AUTOCOMMIT
 # AUTOCOMMIT: off
 -- implicit BEGIN
 INSERT INTO bla VALUES ('Dad');           -- succeeds
+ERROR:  relation "bla" does not exist
+LINE 1: INSERT INTO bla VALUES ('Dad');
+                    ^
 SELECT psql_error('bad!');                -- implicit partial rollback
 ERROR:  error bad!
 CONTEXT:  PL/pgSQL function psql_error(text) line 3 at RAISE
@@ -5521,38 +5521,25 @@
 SELECT COUNT(*) AS "#mum"
 FROM bla WHERE s = 'Mum' \;               -- but be counted here
 SELECT psql_error('bad!');                -- implicit partial rollback
- #mum 
-------
-    1
-(1 row)
-
-ERROR:  error bad!
-CONTEXT:  PL/pgSQL function psql_error(text) line 3 at RAISE
+ERROR:  relation "bla" does not exist
+LINE 1: INSERT INTO bla VALUES ('Mum') ;         -- will rollback
+                    ^
 COMMIT;
 SELECT COUNT(*) AS "#mum"
 FROM bla WHERE s = 'Mum' \;               -- no mum here
 SELECT * FROM bla ORDER BY 1;
- #mum 
-------
-    0
-(1 row)
-
-       s       
----------------
- Calvin
- Dad
- Hobbes
- Miss Wormwood
- Susie
-(5 rows)
-
+ERROR:  relation "bla" does not exist
+LINE 2: FROM bla WHERE s = 'Mum' ;               -- no mum here
+             ^
 -- reset all
 \set AUTOCOMMIT on
 \set ON_ERROR_ROLLBACK off
 \echo '# final ON_ERROR_ROLLBACK:' :ON_ERROR_ROLLBACK
 # final ON_ERROR_ROLLBACK: off
 DROP TABLE bla;
+ERROR:  table "bla" does not exist
 DROP FUNCTION psql_error;
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 -- check describing invalid multipart names
 \dA regression.heap
 improper qualified name (too many dotted names): regression.heap
@@ -5776,253 +5763,90 @@
 improper qualified name (too many dotted names): nonesuch.myevt
 -- check that dots within quoted name segments are not counted
 \dA "no.such.access.method"
-List of access methods
- Name | Type 
-------+------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dt "no.such.table.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \da "no.such.aggregate.function"
-                     List of aggregate functions
- Schema | Name | Result data type | Argument data types | Description 
---------+------+------------------+---------------------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dAc "no.such.operator.class"
-                  List of operator classes
- AM | Input type | Storage type | Operator class | Default? 
-----+------------+--------------+----------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dAf "no.such.operator.family"
-        List of operator families
- AM | Operator family | Applicable types 
-----+-----------------+------------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dAo "no.such.operator.of.operator.family"
-        List of operators of operator families
- AM | Operator family | Operator | Strategy | Purpose 
-----+-----------------+----------+----------+---------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dAp "no.such.operator.support.function.of.operator.family"
-                     List of support functions of operator families
- AM | Operator family | Registered left type | Registered right type | Number | Function 
-----+-----------------+----------------------+-----------------------+--------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \db "no.such.tablespace"
-   List of tablespaces
- Name | Owner | Location 
-------+-------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dc "no.such.conversion"
-               List of conversions
- Schema | Name | Source | Destination | Default? 
---------+------+--------+-------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dC "no.such.cast"
-                  List of casts
- Source type | Target type | Function | Implicit? 
--------------+-------------+----------+-----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dd "no.such.object.description"
-         Object descriptions
- Schema | Name | Object | Description 
---------+------+--------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dD "no.such.domain"
-                        List of domains
- Schema | Name | Type | Collation | Nullable | Default | Check 
---------+------+------+-----------+----------+---------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \ddp "no.such.default.access.privilege"
-         Default access privileges
- Owner | Schema | Type | Access privileges 
--------+--------+------+-------------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \di "no.such.index.relation"
-          List of relations
- Schema | Name | Type | Owner | Table 
---------+------+------+-------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dm "no.such.materialized.view"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \ds "no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dt "no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dv "no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \des "no.such.foreign.server"
-       List of foreign servers
- Name | Owner | Foreign-data wrapper 
-------+-------+----------------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dew "no.such.foreign.data.wrapper"
-   List of foreign-data wrappers
- Name | Owner | Handler | Validator 
-------+-------+---------+-----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \df "no.such.function"
-                       List of functions
- Schema | Name | Result data type | Argument data types | Type 
---------+------+------------------+---------------------+------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dF "no.such.text.search.configuration"
-List of text search configurations
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFd "no.such.text.search.dictionary"
-List of text search dictionaries
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFp "no.such.text.search.parser"
- List of text search parsers
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFt "no.such.text.search.template"
-List of text search templates
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dg "no.such.role"
-           List of roles
- Role name | Attributes | Member of 
------------+------------+-----------
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dL "no.such.language"
-          List of languages
- Name | Owner | Trusted | Description 
-------+-------+---------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dn "no.such.schema"
-List of schemas
- Name | Owner 
-------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \do "no.such.operator"
-                             List of operators
- Schema | Name | Left arg type | Right arg type | Result type | Description 
---------+------+---------------+----------------+-------------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dO "no.such.collation"
-                            List of collations
- Schema | Name | Collate | Ctype | ICU Locale | Provider | Deterministic? 
---------+------+---------+-------+------------+----------+----------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dp "no.such.access.privilege"
-                            Access privileges
- Schema | Name | Type | Access privileges | Column privileges | Policies 
---------+------+------+-------------------+-------------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dP "no.such.partitioned.relation"
-           List of partitioned relations
- Schema | Name | Owner | Type | Parent name | Table 
---------+------+-------+------+-------------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \drds "no.such.setting"
-      List of settings
- Role | Database | Settings 
-------+----------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dRp "no.such.publication"
-                              List of publications
- Name | Owner | All tables | Inserts | Updates | Deletes | Truncates | Via root 
-------+-------+------------+---------+---------+---------+-----------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dRs "no.such.subscription"
-        List of subscriptions
- Name | Owner | Enabled | Publication 
-------+-------+---------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dT "no.such.data.type"
-     List of data types
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dx "no.such.installed.extension"
-     List of installed extensions
- Name | Version | Schema | Description 
-------+---------+--------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dX "no.such.extended.statistics"
-                 List of extended statistics
- Schema | Name | Definition | Ndistinct | Dependencies | MCV 
---------+------+------------+-----------+--------------+-----
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dy "no.such.event.trigger"
-              List of event triggers
- Name | Event | Owner | Enabled | Function | Tags 
-------+-------+-------+---------+----------+------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 -- again, but with dotted schema qualifications.
 \dA "no.such.schema"."no.such.access.method"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.access.method"
 \dt "no.such.schema"."no.such.table.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \da "no.such.schema"."no.such.aggregate.function"
-                     List of aggregate functions
- Schema | Name | Result data type | Argument data types | Description 
---------+------+------------------+---------------------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dAc "no.such.schema"."no.such.operator.class"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.operator.class"
 \dAf "no.such.schema"."no.such.operator.family"
@@ -6034,127 +5858,51 @@
 \db "no.such.schema"."no.such.tablespace"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.tablespace"
 \dc "no.such.schema"."no.such.conversion"
-               List of conversions
- Schema | Name | Source | Destination | Default? 
---------+------+--------+-------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dC "no.such.schema"."no.such.cast"
-                  List of casts
- Source type | Target type | Function | Implicit? 
--------------+-------------+----------+-----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dd "no.such.schema"."no.such.object.description"
-         Object descriptions
- Schema | Name | Object | Description 
---------+------+--------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dD "no.such.schema"."no.such.domain"
-                        List of domains
- Schema | Name | Type | Collation | Nullable | Default | Check 
---------+------+------+-----------+----------+---------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \ddp "no.such.schema"."no.such.default.access.privilege"
-         Default access privileges
- Owner | Schema | Type | Access privileges 
--------+--------+------+-------------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \di "no.such.schema"."no.such.index.relation"
-          List of relations
- Schema | Name | Type | Owner | Table 
---------+------+------+-------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dm "no.such.schema"."no.such.materialized.view"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \ds "no.such.schema"."no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dt "no.such.schema"."no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dv "no.such.schema"."no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \des "no.such.schema"."no.such.foreign.server"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.foreign.server"
 \dew "no.such.schema"."no.such.foreign.data.wrapper"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.foreign.data.wrapper"
 \df "no.such.schema"."no.such.function"
-                       List of functions
- Schema | Name | Result data type | Argument data types | Type 
---------+------+------------------+---------------------+------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dF "no.such.schema"."no.such.text.search.configuration"
-List of text search configurations
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFd "no.such.schema"."no.such.text.search.dictionary"
-List of text search dictionaries
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFp "no.such.schema"."no.such.text.search.parser"
- List of text search parsers
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFt "no.such.schema"."no.such.text.search.template"
-List of text search templates
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dg "no.such.schema"."no.such.role"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.role"
 \dL "no.such.schema"."no.such.language"
 cross-database references are not implemented: "no.such.schema"."no.such.language"
 \do "no.such.schema"."no.such.operator"
-                             List of operators
- Schema | Name | Left arg type | Right arg type | Result type | Description 
---------+------+---------------+----------------+-------------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dO "no.such.schema"."no.such.collation"
-                            List of collations
- Schema | Name | Collate | Ctype | ICU Locale | Provider | Deterministic? 
---------+------+---------+-------+------------+----------+----------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dp "no.such.schema"."no.such.access.privilege"
-                            Access privileges
- Schema | Name | Type | Access privileges | Column privileges | Policies 
---------+------+------+-------------------+-------------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dP "no.such.schema"."no.such.partitioned.relation"
-           List of partitioned relations
- Schema | Name | Owner | Type | Parent name | Table 
---------+------+-------+------+-------------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \drds "no.such.schema"."no.such.setting"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.setting"
 \dRp "no.such.schema"."no.such.publication"
@@ -6162,154 +5910,58 @@
 \dRs "no.such.schema"."no.such.subscription"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.subscription"
 \dT "no.such.schema"."no.such.data.type"
-     List of data types
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dx "no.such.schema"."no.such.installed.extension"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.installed.extension"
 \dX "no.such.schema"."no.such.extended.statistics"
-                 List of extended statistics
- Schema | Name | Definition | Ndistinct | Dependencies | MCV 
---------+------+------------+-----------+--------------+-----
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dy "no.such.schema"."no.such.event.trigger"
 improper qualified name (too many dotted names): "no.such.schema"."no.such.event.trigger"
 -- again, but with current database and dotted schema qualifications.
 \dt regression."no.such.schema"."no.such.table.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \da regression."no.such.schema"."no.such.aggregate.function"
-                     List of aggregate functions
- Schema | Name | Result data type | Argument data types | Description 
---------+------+------------------+---------------------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dc regression."no.such.schema"."no.such.conversion"
-               List of conversions
- Schema | Name | Source | Destination | Default? 
---------+------+--------+-------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dC regression."no.such.schema"."no.such.cast"
-                  List of casts
- Source type | Target type | Function | Implicit? 
--------------+-------------+----------+-----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dd regression."no.such.schema"."no.such.object.description"
-         Object descriptions
- Schema | Name | Object | Description 
---------+------+--------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dD regression."no.such.schema"."no.such.domain"
-                        List of domains
- Schema | Name | Type | Collation | Nullable | Default | Check 
---------+------+------+-----------+----------+---------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \di regression."no.such.schema"."no.such.index.relation"
-          List of relations
- Schema | Name | Type | Owner | Table 
---------+------+------+-------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dm regression."no.such.schema"."no.such.materialized.view"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \ds regression."no.such.schema"."no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dt regression."no.such.schema"."no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dv regression."no.such.schema"."no.such.relation"
-      List of relations
- Schema | Name | Type | Owner 
---------+------+------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \df regression."no.such.schema"."no.such.function"
-                       List of functions
- Schema | Name | Result data type | Argument data types | Type 
---------+------+------------------+---------------------+------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dF regression."no.such.schema"."no.such.text.search.configuration"
-List of text search configurations
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFd regression."no.such.schema"."no.such.text.search.dictionary"
-List of text search dictionaries
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFp regression."no.such.schema"."no.such.text.search.parser"
- List of text search parsers
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dFt regression."no.such.schema"."no.such.text.search.template"
-List of text search templates
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \do regression."no.such.schema"."no.such.operator"
-                             List of operators
- Schema | Name | Left arg type | Right arg type | Result type | Description 
---------+------+---------------+----------------+-------------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dO regression."no.such.schema"."no.such.collation"
-                            List of collations
- Schema | Name | Collate | Ctype | ICU Locale | Provider | Deterministic? 
---------+------+---------+-------+------------+----------+----------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dp regression."no.such.schema"."no.such.access.privilege"
-                            Access privileges
- Schema | Name | Type | Access privileges | Column privileges | Policies 
---------+------+------+-------------------+-------------------+----------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dP regression."no.such.schema"."no.such.partitioned.relation"
-           List of partitioned relations
- Schema | Name | Owner | Type | Parent name | Table 
---------+------+-------+------+-------------+-------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dT regression."no.such.schema"."no.such.data.type"
-     List of data types
- Schema | Name | Description 
---------+------+-------------
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 \dX regression."no.such.schema"."no.such.extended.statistics"
-                 List of extended statistics
- Schema | Name | Definition | Ndistinct | Dependencies | MCV 
---------+------+------------+-----------+--------------+-----
-(0 rows)
-
+ERROR:  current transaction is aborted, commands ignored until end of transaction block
 -- again, but with dotted database and dotted schema qualifications.
 \dt "no.such.database"."no.such.schema"."no.such.table.relation"
 cross-database references are not implemented: "no.such.database"."no.such.schema"."no.such.table.relation"
diff ../../../src/test/regress/expected/publication.out ../tmp_check/regress_outdir/results/publication.out
--- ../../../src/test/regress/expected/publication.out	CENSORED
+++ ../tmp_check/regress_outdir/results/publication.out	CENSORED
@@ -13,8 +13,9 @@
 SELECT obj_description(p.oid, 'pg_publication') FROM pg_publication p;
  obj_description  
 ------------------
+ 
  test publication
-(1 row)
+(2 rows)
 
 SET client_min_messages = 'ERROR';
 CREATE PUBLICATION testpib_ins_trunct WITH (publish = insert);
@@ -33,18 +34,20 @@
                                               List of publications
         Name        |          Owner           | All tables | Inserts | Updates | Deletes | Truncates | Via root 
 --------------------+--------------------------+------------+---------+---------+---------+-----------+----------
  testpib_ins_trunct | regress_publication_user | f          | t       | f       | f       | f         | f
  testpub_default    | regress_publication_user | f          | f       | t       | f       | f         | f
-(2 rows)
+(3 rows)
 
 ALTER PUBLICATION testpub_default SET (publish = 'insert, update, delete');
 \dRp
                                               List of publications
         Name        |          Owner           | All tables | Inserts | Updates | Deletes | Truncates | Via root 
 --------------------+--------------------------+------------+---------+---------+---------+-----------+----------
  testpib_ins_trunct | regress_publication_user | f          | t       | f       | f       | f         | f
  testpub_default    | regress_publication_user | f          | t       | t       | t       | f         | f
-(2 rows)
+(3 rows)
 
 --- adding tables
 CREATE SCHEMA pub_test;
diff ../../../src/test/regress/expected/subscription.out ../tmp_check/regress_outdir/results/subscription.out
--- ../../../src/test/regress/expected/subscription.out	CENSORED
+++ ../tmp_check/regress_outdir/results/subscription.out	CENSORED
@@ -34,8 +34,10 @@
 SELECT obj_description(s.oid, 'pg_subscription') FROM pg_subscription s;
   obj_description  
 -------------------
+ 
+ 
  test subscription
-(1 row)
+(3 rows)
 
 -- fail - name already exists
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION testpub WITH (connect = false);
@@ -76,11 +78,13 @@
 ERROR:  invalid connection string syntax: missing "=" after "foobar" in connection info string
 
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET PUBLICATION testpub2, testpub3 WITH (refresh = false);
 ALTER SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist2';
@@ -96,11 +100,13 @@
 -- ok
 ALTER SUBSCRIPTION regress_testsub SKIP (lsn = '0/12345');
 \dRs+
-                                                                                         List of subscriptions
-      Name       |           Owner           | Enabled |     Publication     | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |           Conninfo           | Skip LSN 
------------------+---------------------------+---------+---------------------+--------+-----------+------------------+------------------+--------------------+------------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub2,testpub3} | f      | f         | d                | f                | off                | dbname=regress_doesnotexist2 | 0/12345
-(1 row)
+                                                                                                 List of subscriptions
+      Name       |           Owner           | Enabled |     Publication     | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub2,testpub3} | f      | f         | d                | f                | off                | dbname=regress_doesnotexist2                  | 0/12345
+(3 rows)
 
 -- ok - with lsn = NONE
 ALTER SUBSCRIPTION regress_testsub SKIP (lsn = NONE);
@@ -108,11 +114,13 @@
 ALTER SUBSCRIPTION regress_testsub SKIP (lsn = '0/0');
 ERROR:  invalid WAL location (LSN): 0/0
 \dRs+
-                                                                                         List of subscriptions
-      Name       |           Owner           | Enabled |     Publication     | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |           Conninfo           | Skip LSN 
------------------+---------------------------+---------+---------------------+--------+-----------+------------------+------------------+--------------------+------------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub2,testpub3} | f      | f         | d                | f                | off                | dbname=regress_doesnotexist2 | 0/0
-(1 row)
+                                                                                                 List of subscriptions
+      Name       |           Owner           | Enabled |     Publication     | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub2,testpub3} | f      | f         | d                | f                | off                | dbname=regress_doesnotexist2                  | 0/0
+(3 rows)
 
 BEGIN;
 ALTER SUBSCRIPTION regress_testsub ENABLE;
@@ -120,16 +128,20 @@
                             List of subscriptions
       Name       |           Owner           | Enabled |     Publication     
 -----------------+---------------------------+---------+---------------------
  regress_testsub | regress_subscription_user | t       | {testpub2,testpub3}
-(1 row)
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub DISABLE;
 \dRs
                             List of subscriptions
       Name       |           Owner           | Enabled |     Publication     
 -----------------+---------------------------+---------+---------------------
  regress_testsub | regress_subscription_user | f       | {testpub2,testpub3}
-(1 row)
+(3 rows)
 
 COMMIT;
 -- fail - must be owner of subscription
@@ -143,11 +155,13 @@
 ERROR:  invalid value for parameter "synchronous_commit": "foobar"
 HINT:  Available values: local, remote_write, remote_apply, on, off.
 \dRs+
-                                                                                           List of subscriptions
-        Name         |           Owner           | Enabled |     Publication     | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |           Conninfo           | Skip LSN 
----------------------+---------------------------+---------+---------------------+--------+-----------+------------------+------------------+--------------------+------------------------------+----------
- regress_testsub_foo | regress_subscription_user | f       | {testpub2,testpub3} | f      | f         | d                | f                | local              | dbname=regress_doesnotexist2 | 0/0
-(1 row)
+                                                                                                   List of subscriptions
+        Name         |           Owner           | Enabled |     Publication     | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+---------------------+---------------------------+---------+---------------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub_foo | regress_subscription_user | f       | {testpub2,testpub3} | f      | f         | d                | f                | local              | dbname=regress_doesnotexist2                  | 0/0
+(3 rows)
 
 -- rename back to keep the rest simple
 ALTER SUBSCRIPTION regress_testsub_foo RENAME TO regress_testsub;
@@ -179,20 +193,24 @@
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION testpub WITH (connect = false, binary = true);
 WARNING:  tables were not subscribed, you will have to run ALTER SUBSCRIPTION ... REFRESH PUBLICATION to subscribe the tables
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | t      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | t      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET (binary = false);
 ALTER SUBSCRIPTION regress_testsub SET (slot_name = NONE);
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 DROP SUBSCRIPTION regress_testsub;
 -- fail - streaming must be boolean
@@ -202,20 +220,24 @@
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION testpub WITH (connect = false, streaming = true);
 WARNING:  tables were not subscribed, you will have to run ALTER SUBSCRIPTION ... REFRESH PUBLICATION to subscribe the tables
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | t         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | t         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET (streaming = false);
 ALTER SUBSCRIPTION regress_testsub SET (slot_name = NONE);
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 -- fail - publication already exists
 ALTER SUBSCRIPTION regress_testsub ADD PUBLICATION testpub WITH (refresh = false);
@@ -229,11 +251,13 @@
 ALTER SUBSCRIPTION regress_testsub ADD PUBLICATION testpub1, testpub2 WITH (refresh = false);
 ERROR:  publication "testpub1" is already in subscription "regress_testsub"
 \dRs+
-                                                                                            List of subscriptions
-      Name       |           Owner           | Enabled |         Publication         | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-----------------------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub,testpub1,testpub2} | f      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                                     List of subscriptions
+      Name       |           Owner           | Enabled |         Publication         | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+-----------------------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub,testpub1,testpub2} | f      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 -- fail - publication used more then once
 ALTER SUBSCRIPTION regress_testsub DROP PUBLICATION testpub1, testpub1 WITH (refresh = false);
@@ -247,11 +271,13 @@
 -- ok - delete publications
 ALTER SUBSCRIPTION regress_testsub DROP PUBLICATION testpub1, testpub2 WITH (refresh = false);
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 DROP SUBSCRIPTION regress_testsub;
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION mypub
@@ -284,11 +310,13 @@
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION testpub WITH (connect = false, two_phase = true);
 WARNING:  tables were not subscribed, you will have to run ALTER SUBSCRIPTION ... REFRESH PUBLICATION to subscribe the tables
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | p                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | p                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 --fail - alter of two_phase option not supported.
 ALTER SUBSCRIPTION regress_testsub SET (two_phase = false);
@@ -296,11 +324,13 @@
 -- but can alter streaming when two_phase enabled
 ALTER SUBSCRIPTION regress_testsub SET (streaming = true);
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | t         | p                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | t         | p                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET (slot_name = NONE);
 DROP SUBSCRIPTION regress_testsub;
@@ -308,11 +338,13 @@
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION testpub WITH (connect = false, streaming = true, two_phase = true);
 WARNING:  tables were not subscribed, you will have to run ALTER SUBSCRIPTION ... REFRESH PUBLICATION to subscribe the tables
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | t         | p                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | t         | p                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET (slot_name = NONE);
 DROP SUBSCRIPTION regress_testsub;
@@ -323,19 +355,23 @@
 CREATE SUBSCRIPTION regress_testsub CONNECTION 'dbname=regress_doesnotexist' PUBLICATION testpub WITH (connect = false, disable_on_error = false);
 WARNING:  tables were not subscribed, you will have to run ALTER SUBSCRIPTION ... REFRESH PUBLICATION to subscribe the tables
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | d                | f                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | d                | f                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET (disable_on_error = true);
 \dRs+
-                                                                                    List of subscriptions
-      Name       |           Owner           | Enabled | Publication | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |          Conninfo           | Skip LSN 
------------------+---------------------------+---------+-------------+--------+-----------+------------------+------------------+--------------------+-----------------------------+----------
- regress_testsub | regress_subscription_user | f       | {testpub}   | f      | f         | d                | t                | off                | dbname=regress_doesnotexist | 0/0
-(1 row)
+                                                                                              List of subscriptions
+      Name       |           Owner           | Enabled |  Publication  | Binary | Streaming | Two-phase commit | Disable on error | Synchronous commit |                   Conninfo                    | Skip LSN 
+-----------------+---------------------------+---------+---------------+--------+-----------+------------------+------------------+--------------------+-----------------------------------------------+----------
+ regress_testsub | regress_subscription_user | f       | {testpub}     | f      | f         | d                | t                | off                | dbname=regress_doesnotexist                   | 0/0
+(3 rows)
 
 ALTER SUBSCRIPTION regress_testsub SET (slot_name = NONE);
 DROP SUBSCRIPTION regress_testsub;
diff ../../../src/test/regress/expected/prepare.out ../tmp_check/regress_outdir/results/prepare.out
--- ../../../src/test/regress/expected/prepare.out	CENSORED
+++ ../tmp_check/regress_outdir/results/prepare.out	CENSORED
@@ -126,34 +126,18 @@
 	SELECT * FROM tenk1 WHERE unique1 = $1 OR stringu1 = $2
 	ORDER BY unique1;
 CREATE TEMPORARY TABLE q5_prep_results AS EXECUTE q5(200, 'DTAAAA');
+ERROR:  [MTM] failed to prepare transaction at peer node
 SELECT * FROM q5_prep_results;
- unique1 | unique2 | two | four | ten | twenty | hundred | thousand | twothousand | fivethous | tenthous | odd | even | stringu1 | stringu2 | string4 
----------+---------+-----+------+-----+--------+---------+----------+-------------+-----------+----------+-----+------+----------+----------+---------
-     200 |    9441 |   0 |    0 |   0 |      0 |       0 |      200 |         200 |       200 |      200 |   0 |    1 | SHAAAA   | DZNAAA   | HHHHxx
-     497 |    9092 |   1 |    1 |   7 |     17 |      97 |      497 |         497 |       497 |      497 | 194 |  195 | DTAAAA   | SLNAAA   | AAAAxx
-    1173 |    6699 |   1 |    1 |   3 |     13 |      73 |      173 |        1173 |      1173 |     1173 | 146 |  147 | DTAAAA   | RXJAAA   | VVVVxx
-    1849 |    8143 |   1 |    1 |   9 |      9 |      49 |      849 |        1849 |      1849 |     1849 |  98 |   99 | DTAAAA   | FBMAAA   | VVVVxx
-    2525 |      64 |   1 |    1 |   5 |      5 |      25 |      525 |         525 |      2525 |     2525 |  50 |   51 | DTAAAA   | MCAAAA   | AAAAxx
-    3201 |    7309 |   1 |    1 |   1 |      1 |       1 |      201 |        1201 |      3201 |     3201 |   2 |    3 | DTAAAA   | DVKAAA   | HHHHxx
-    3877 |    4060 |   1 |    1 |   7 |     17 |      77 |      877 |        1877 |      3877 |     3877 | 154 |  155 | DTAAAA   | EAGAAA   | AAAAxx
-    4553 |    4113 |   1 |    1 |   3 |     13 |      53 |      553 |         553 |      4553 |     4553 | 106 |  107 | DTAAAA   | FCGAAA   | HHHHxx
-    5229 |    6407 |   1 |    1 |   9 |      9 |      29 |      229 |        1229 |       229 |     5229 |  58 |   59 | DTAAAA   | LMJAAA   | VVVVxx
-    5905 |    9537 |   1 |    1 |   5 |      5 |       5 |      905 |        1905 |       905 |     5905 |  10 |   11 | DTAAAA   | VCOAAA   | HHHHxx
-    6581 |    4686 |   1 |    1 |   1 |      1 |      81 |      581 |         581 |      1581 |     6581 | 162 |  163 | DTAAAA   | GYGAAA   | OOOOxx
-    7257 |    1895 |   1 |    1 |   7 |     17 |      57 |      257 |        1257 |      2257 |     7257 | 114 |  115 | DTAAAA   | XUCAAA   | VVVVxx
-    7933 |    4514 |   1 |    1 |   3 |     13 |      33 |      933 |        1933 |      2933 |     7933 |  66 |   67 | DTAAAA   | QRGAAA   | OOOOxx
-    8609 |    5918 |   1 |    1 |   9 |      9 |       9 |      609 |         609 |      3609 |     8609 |  18 |   19 | DTAAAA   | QTIAAA   | OOOOxx
-    9285 |    8469 |   1 |    1 |   5 |      5 |      85 |      285 |        1285 |      4285 |     9285 | 170 |  171 | DTAAAA   | TNMAAA   | HHHHxx
-    9961 |    2058 |   1 |    1 |   1 |      1 |      61 |      961 |        1961 |      4961 |     9961 | 122 |  123 | DTAAAA   | EBDAAA   | OOOOxx
-(16 rows)
-
+ERROR:  relation "q5_prep_results" does not exist
+LINE 1: SELECT * FROM q5_prep_results;
+                      ^
 CREATE TEMPORARY TABLE q5_prep_nodata AS EXECUTE q5(200, 'DTAAAA')
     WITH NO DATA;
+ERROR:  [MTM] failed to prepare transaction at peer node
 SELECT * FROM q5_prep_nodata;
- unique1 | unique2 | two | four | ten | twenty | hundred | thousand | twothousand | fivethous | tenthous | odd | even | stringu1 | stringu2 | string4 
----------+---------+-----+------+-----+--------+---------+----------+-------------+-----------+----------+-----+------+----------+----------+---------
-(0 rows)
-
+ERROR:  relation "q5_prep_nodata" does not exist
+LINE 1: SELECT * FROM q5_prep_nodata;
+                      ^
 -- unknown or unspecified parameter types: should succeed
 PREPARE q6 AS
     SELECT * FROM tenk1 WHERE unique1 = $1 AND stringu1 = $2;
diff ../../../src/test/regress/expected/indexing.out ../tmp_check/regress_outdir/results/indexing.out
--- ../../../src/test/regress/expected/indexing.out	CENSORED
+++ ../tmp_check/regress_outdir/results/indexing.out	CENSORED
@@ -54,7 +54,7 @@
 create table idxpart (a int, b int, c text) partition by range (a);
 create table idxpart1 partition of idxpart for values from (0) to (10);
 create index concurrently on idxpart (a);
-ERROR:  cannot create index on partitioned table "idxpart" concurrently
+ERROR:  multimaster doesn't support CREATE INDEX CONCURRENTLY
 drop table idxpart;
 -- Verify bugfix with query on indexed partitioned table with no partitions
 -- https://postgr.es/m/20180124162006.pmapfiznhgngwtjf@alvherre.pgsql
@@ -176,7 +176,7 @@
 ERROR:  cannot drop index idxpart1_a_idx because index idxpart_a_idx requires it
 HINT:  You can drop index idxpart_a_idx instead.
 drop index concurrently idxpart_a_idx;	-- unsupported
-ERROR:  cannot drop partitioned index "idxpart_a_idx" concurrently
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 drop index idxpart_a_idx;	-- both indexes go away
 select relname, relkind from pg_class
   where relname like 'idxpart%' order by relname;
@@ -207,12 +207,14 @@
 HINT:  You can drop index idxpart_temp_a_idx instead.
 -- non-concurrent drop is enforced here, so it is a valid case.
 drop index concurrently idxpart_temp_a_idx;
+ERROR:  multimaster doesn't support DROP INDEX CONCURRENTLY
 select relname, relkind from pg_class
   where relname like 'idxpart_temp%' order by relname;
-   relname    | relkind 
---------------+---------
- idxpart_temp | p
-(1 row)
+      relname       | relkind 
+--------------------+---------
+ idxpart_temp       | p
+ idxpart_temp_a_idx | I
+(2 rows)
 
 drop table idxpart_temp;
 -- ALTER INDEX .. ATTACH, error cases
